# vol.1.22

- 文字（char）は数値として扱われている
- C++では、文字の数値（ビット値）を得るには、`'<一文字>'`とすることで、数値を得ることができる
  - 注意点として、丸め込み誤差や打ち切り誤差などにより正確な数値を得るためには、`キャスト`を行わなくてはならない時がある
- `0`の場合
  - 数値が負数になる可能性があるので、`unsigned char`にキャストし、`int`にキャストしなければならない
  - `(int)(unsigned char)'0'`つまり、`'0'`の場合は打ち切り誤差は発生しないはず
  - `(int)(unsigned char)"0"`つまり、`"0"`の場合は打ち切り誤差が発生する可能性があるため、コンパイルエラーとなる
  - 半角の文字は１バイトとして扱われる
    - 0~255までの間の数値
- `あ`の場合
  - 数値が負数になる可能性はないので、`'あ'`とすれば数値が得られる
  - `あ`は全角文字であるため、２バイト（文字コードにより変化有）として扱われる
    - 0~65533までの間の数値
    - 全角の文字を数値として扱おうとすると以下のような警告が出る場合がある
        ```
        char.cpp:14:49: warning: multi-character character constant [-Wmultichar]
        14 |     cout << "'あ'に割り当てられた数値は >> " << 'あ' << "です" << endl;
           |             
        ```
    - このような警告は出るが、コンパイル自体は成功する
- 文字コードについて
  - 文字に振られている数値のこと
  - 半角の文字に振られている数値を`ASCII（アスキー）CODE`と呼ぶ
    - `ASCII CODEは１バイト`で0~255までの範囲の数値として扱われる
  - 全角の文字に割り振られている数値は様々な種類がある
    - JIS CODE、SHIFT JIS CODE、EUC CODEなど
    - WindowsはSHIFT JIS CODEを利用している
    - JIS CODEは文字自体は２バイトだが、前後に３バイトずつ目印を要する
      - <前目印=３バイト><文字=２バイト><後目印３バイト> => 合計：８バイト
      - つまり、`JIS CODEは８バイトで１文字`を表現している
      - 半角カナはSHIFT JIS CODEでは半角文字扱い（１バイト）となるが、それ以外の文字は全角扱い（２バイト）となる
    - macOSやLinuxはUNIX CODEを利用している
    - `UNIX CODEは全世界の主要文字コードを網羅した国際文字コード`
  - `コンピュータの世界では、文字は数値`として扱われている